/*
 * ext-basex/$JIT Adapter Extensions for ExtJS Library 2.0+ and Ext Core 3.0+
 * Copyright(c) 2008-2009 Active Group, Inc.
 * licensing@theactivegroup.com
 * http://licensing.theactivegroup.com
 */
(function(){var A=Ext.lib.Ajax,defined=function(test){return typeof test!='undefined'},emptyFn=Ext.emptyFn||function(){},OP=Object.prototype;Ext.lib.Ajax.Queue=function(config){config=config?(config.name?config:{name:config}):{};Ext.apply(this,config,{name:'q-default',priority:5,FIFO:true,callback:null,scope:null,suspended:false,progressive:false});this.requests=new Array();this.pending=false;this.priority=this.priority>9?9:(this.priority<0?0:this.priority)};Ext.extend(Ext.lib.Ajax.Queue,Object,{add:function(req){var permit=A.events?A.fireEvent('beforequeue',this,req):true;if(permit!==false){this.requests.push(req);this.pending=true;A.pendingRequests++;this.manager&&this.manager.start()}},suspended:false,activeRequest:null,next:function(peek){var req=peek?this.requests[this.FIFO?'first':'last']():this.requests[this.FIFO?'shift':'pop']();if(this.requests.length==0){this.pending=false;Ext.isFunction(this.callback)&&this.callback.call(this.scope||null,this);A.events&&A.fireEvent('queueempty',this)}return req||null},clear:function(){this.suspend();A.pendingRequests-=this.requests.length;this.requests.length=0;this.pending=false;this.resume();this.next()},suspend:function(){this.suspended=true},resume:function(){this.suspended=false},requestNext:function(peek){var req;this.activeRequest=null;if(!this.suspended&&(req=this.next(peek))){if(req.active){this.activeRequest=A.request.apply(A,req);A.pendingRequests--}else{return this.requestNext(peek)}}return this.activeRequest}});Ext.lib.Ajax.QueueManager=function(config){Ext.apply(this,config||{},{quantas:10,priorityQueues:new Array(new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array()),queues:{}})};Ext.extend(Ext.lib.Ajax.QueueManager,Object,{quantas:10,getQueue:function(name){return this.queues[name]},createQueue:function(config){if(!config){return null}var q=new A.Queue(config);q.manager=this;this.queues[q.name]=q;var pqa=this.priorityQueues[q.priority];pqa&&pqa.indexOf(q.name)==-1&&pqa.push(q.name);return q},removeQueue:function(q){if(q&&(q=this.getQueue(q.name||q))){q.clear();this.priorityQueues[q.priority].remove(q.name);delete this.queues[q.name]}},start:function(){if(!this.started){this.started=true;this.dispatch()}return this},suspendAll:function(){forEach(this.queues,function(Q){Q.suspend()})},resumeAll:function(){forEach(this.queues,function(Q){Q.resume()});this.start()},progressive:false,stop:function(){this.started=false;return this},dispatch:function(){var qm=this,qmq=qm.queues;var quit=(A.activeRequests>A.maxConcurrentRequests);while(A.pendingRequests&&!quit){var disp=function(qName){var q=qmq[qName],AR;while(q&&!q.suspended&&q.pending&&q.requestNext()){quit||(quit=A.activeRequests>A.maxConcurrentRequests);if(quit)break;if(q.progressive||qm.progressive){break}}if(quit)return false};forEach(this.priorityQueues,function(pqueue){!!pqueue.length&&forEach(pqueue,disp,this);quit||(quit=A.activeRequests>A.maxConcurrentRequests);if(quit)return false},this)}if(A.pendingRequests||quit){this.dispatch.defer(this.quantas,this)}else{this.stop()}}});Ext.apply(A,{headers:A.headers||{},defaultPostHeader:A.defaultPostHeader||'application/x-www-form-urlencoded; charset=UTF-8',defaultHeaders:A.defaultHeaders||{},useDefaultXhrHeader:!!A.useDefaultXhrHeader,defaultXhrHeader:'Ext.basex',SCRIPTTAG_POOL:[],_domRefs:[],onUnload:function(){delete A._domRefs;delete A.SCRIPTTAG_POOL},monitoredNode:function(tag,attributes,callback,context,deferred){var node=null,doc=(context||window).document,head=doc?doc.getElementsByTagName("head")[0]:null;if(tag&&doc&&head){node=tag.toUpperCase()=='SCRIPT'&&!!A.SCRIPTTAG_POOL.length?Ext.get(A.SCRIPTTAG_POOL.pop()):null;if(node){node.removeAllListeners()}else{node=Ext.get(doc.createElement(tag))}var ndom=Ext.getDom(node);ndom&&forEach(attributes||{},function(value,attrib){value&&(attrib in ndom)&&ndom.setAttribute(attrib,value)});if(callback){var cb=(callback.success||callback).createDelegate(callback.scope||null,[callback||{}],0);if(tag=='LINK'){cb()}else{Ext.isIE?node.on('readystatechange',function(){this.dom.readyState=='loaded'&&cb()}):node.on("load",cb)}}deferred||ndom.parentNode||head.appendChild(ndom)}A._domRefs.push(node);return node},poll:{},pollInterval:A.pollInterval||50,queueManager:new A.QueueManager(),queueAll:false,activeRequests:0,pendingRequests:0,maxConcurrentRequests:Ext.isIE?Ext.value(window.maxConnectionsPerServer,2):4,forceActiveX:false,async:true,createXhrObject:function(transactionId,options){var obj={status:{isError:false},tId:transactionId},ecode=null;options||(options={});try{options.xdomain&&window.XDomainRequest&&(obj.conn=new XDomainRequest());if(!defined(obj.conn)&&Ext.capabilities.hasActiveX&&!!Ext.value(options.forceActiveX,this.forceActiveX)){throw("IE7forceActiveX");}obj.conn||(obj.conn=new XMLHttpRequest())}catch(eo){var actX=Ext.capabilities.hasActiveX?(options.multiPart?this.activeXMultipart:this.activeX):null;if(actX){for(var i=0,l=actX.length;i<l;++i){try{obj.conn=new ActiveXObject(actX[i]);break}catch(e){ecode=(eo=="IE7forceActiveX"?e:eo)}}}}finally{obj.status.isError=!defined(obj.conn);obj.status.error=ecode}return obj},createExceptionObject:function(tId,callbackArg,isAbort,isTimeout,errObj){return{tId:tId,status:isAbort?-1:0,statusText:isAbort?'transaction aborted':'communication failure',isAbort:isAbort,isTimeout:isTimeout,argument:callbackArg}},encoder:encodeURIComponent,serializeForm:function(){var reSelect=/select-(one|multiple)/i,reInput=/file|undefined|reset|button/i,reChecks=/radio|checkbox/i;return function(form){var fElements=form.elements||(document.forms[form]||Ext.getDom(form)).elements,hasSubmit=false,encoder=this.encoder,element,options,name,val,data='',type;forEach(fElements,function(element){name=element.name;type=element.type;if(!element.disabled&&name){if(reSelect.test(type)){forEach(element.options,function(opt){if(opt.selected){data+=String.format("{0}={1}&",encoder(name),encoder(opt.hasAttribute&&opt.hasAttribute('value')&&opt.getAttribute('value')!==null?opt.value:opt.text))}})}else if(!reInput.test(type)){if(!(reChecks.test(type)&&!element.checked)&&!(type=='submit'&&hasSubmit)){data+=encoder(name)+'='+encoder(element.value)+'&';hasSubmit=/submit/i.test(type)}}}});return data.substr(0,data.length-1)}}(),getHttpStatus:function(reqObj,isAbort,isTimeout){var statObj={status:0,statusText:'',isError:false,isLocal:false,isOK:true,error:null,isAbort:!!isAbort,isTimeout:!!isTimeout};try{if(!reqObj||!('status'in reqObj)){throw('noobj');}statObj.status=reqObj.status;statObj.readyState=reqObj.readyState;statObj.isLocal=(!reqObj.status&&location.protocol=="file:")||(Ext.isSafari&&!defined(reqObj.status));statObj.isOK=(statObj.isLocal||(statObj.status==304||statObj.status==1223||(statObj.status>199&&statObj.status<300)));statObj.statusText=reqObj.statusText||''}catch(e){}return statObj},handleTransactionResponse:function(o,callback,isAbort,isTimeout){callback=callback||{};var responseObject=null;o.isPart||A.activeRequests--;if(!o.status.isError){o.status=this.getHttpStatus(o.conn,isAbort,isTimeout);responseObject=this.createResponseObject(o,callback.argument,isAbort,isTimeout)}o.isPart||this.releaseObject(o);o.status.isError&&(responseObject=Ext.apply({},responseObject||{},this.createExceptionObject(o.tId,callback.argument,!!isAbort,!!isTimeout,o.status.error)));responseObject.options=o.options;responseObject.fullStatus=o.status;if(!this.events||this.fireEvent('status:'+o.status.status,o.status.status,o,responseObject,callback,isAbort)!==false){if(o.status.isOK&&!o.status.isError){if(!this.events||this.fireEvent('response',o,responseObject,callback,isAbort,isTimeout)!==false){var cb=o.isPart?'onpart':'success';Ext.isFunction(callback[cb])&&callback[cb].call(callback.scope||null,responseObject)}}else{if(!this.events||this.fireEvent('exception',o,responseObject,callback,isAbort,isTimeout,responseObject.fullStatus.error)!==false){Ext.isFunction(callback.failure)&&callback.failure.call(callback.scope||null,responseObject,responseObject.fullStatus.error)}}}return responseObject},releaseObject:function(o){o&&(o.conn=null);if(o&&Ext.value(o.tId,-1)+1){if(this.poll[o.tId]){window.clearInterval(this.poll[o.tId]);delete this.poll[o.tId]}if(this.timeout[o.tId]){window.clearInterval(this.timeout[o.tId]);delete this.timeout[o.tId]}}},decodeJSON:Ext.decode,reCtypeJSON:/(application|text)\/json/i,reCtypeXML:/(application|text)\/xml/i,createResponseObject:function(o,callbackArg,isAbort,isTimeout){var CTYPE='content-type',obj={responseXML:null,responseText:'',responseStream:null,responseJSON:null,contentType:null,getResponseHeader:emptyFn,getAllResponseHeaders:emptyFn};var headerObj={},headerStr='';if(isAbort!==true){try{obj.responseJSON=o.conn.responseJSON||null;obj.responseStream=o.conn.responseStream||null;obj.contentType=o.conn.contentType||null;obj.responseText=o.conn.responseText}catch(e){o.status.isError=true;o.status.error=e}try{obj.responseXML=o.conn.responseXML||null}catch(ex){}try{headerStr=('getAllResponseHeaders'in o.conn?o.conn.getAllResponseHeaders():null)||'';var s;headerStr.split('\n').forEach(function(sHeader){(s=sHeader.split(':'))&&s.first()&&(headerObj[s.first().trim().toLowerCase()]=(s.last()||'').trim())})}catch(ex1){o.status.isError=true;o.status.error=ex1}finally{obj.contentType=obj.contentType||headerObj[CTYPE]||''}if((o.status.isLocal||o.proxied)&&typeof obj.responseText=='string'){o.status.isOK=!o.status.isError&&((o.status.status=(!!obj.responseText.length)?200:404)==200);if(o.status.isOK&&((!obj.responseXML&&this.reCtypeXML.test(obj.contentType))||(obj.responseXML&&obj.responseXML.childNodes.length===0))){var xdoc=null;try{if(Ext.capabilities.hasActiveX){xdoc=new ActiveXObject("MSXML2.DOMDocument.3.0");xdoc.async=false;xdoc.loadXML(obj.responseText)}else{var domParser=null;try{domParser=new DOMParser();xdoc=domParser.parseFromString(obj.responseText,'application\/xml')}catch(exP){}finally{domParser=null}}}catch(exd){o.status.isError=true;o.status.error=exd}obj.responseXML=xdoc}if(obj.responseXML){var parseBad=(obj.responseXML.documentElement&&obj.responseXML.documentElement.nodeName=='parsererror')||(obj.responseXML.parseError||0)!==0||obj.responseXML.childNodes.length===0;parseBad||(obj.contentType=headerObj[CTYPE]=obj.responseXML.contentType||'text\/xml')}}if(o.options.isJSON||(this.reCtypeJSON&&this.reCtypeJSON.test(headerObj[CTYPE]||""))){try{Ext.isObject(obj.responseJSON)||(obj.responseJSON=Ext.isFunction(this.decodeJSON)&&Ext.isString(obj.responseText)?this.decodeJSON(obj.responseText):null)}catch(exJSON){o.status.isError=true;o.status.error=exJSON}}}o.status.proxied=!!o.proxied;Ext.apply(obj,{tId:o.tId,status:o.status.status,statusText:o.status.statusText,contentType:obj.contentType||headerObj[CTYPE],getResponseHeader:function(header){return headerObj[(header||'').trim().toLowerCase()]},getAllResponseHeaders:function(){return headerStr},fullStatus:o.status,isPart:o.isPart||false});o.parts&&!o.isPart&&(obj.parts=o.parts);defined(callbackArg)&&(obj.argument=callbackArg);return obj},setDefaultPostHeader:function(contentType){this.defaultPostHeader=contentType||''},setDefaultXhrHeader:function(bool){this.useDefaultXhrHeader=bool||false},request:function(method,uri,cb,data,options){var O=options=Ext.apply({async:this.async||false,headers:false,userId:null,password:null,xmlData:null,jsonData:null,queue:null,proxied:false,multiPart:false,xdomain:false},options||{});var _to;if(cb.argument&&cb.argument.options&&cb.argument.options.request&&(_to=cb.argument.options.request.arg)){Ext.apply(O,{async:O.async||_to.async,proxied:O.proxied||_to.proxied,multiPart:O.multiPart||_to.multiPart,xdomain:O.xdomain||_to.xdomain,queue:O.queue||_to.queue,onPart:O.onPart||_to.onPart})}if(!this.events||this.fireEvent('request',method,uri,cb,data,O)!==false){if(!O.queued&&(O.queue||(O.queue=this.queueAll||null))){O.queue===true&&(O.queue={name:'q-default'});var oq=O.queue;var qname=oq.name||oq,qm=this.queueManager;var q=qm.getQueue(qname)||qm.createQueue(oq);O.queue=q;O.queued=true;var req=[method,uri,cb,data,O];req.active=true;q.add(req);return{tId:this.transactionId++,queued:true,request:req,options:O}}options.onpart&&(cb.onpart||(cb.onpart=Ext.isFunction(options.onpart)?options.onpart.createDelegate(options.scope):null));O.headers&&forEach(O.headers,function(value,key){this.initHeader(key,value,false)},this);var cType;if(cType=(this.headers?this.headers['Content-Type']||null:null)){delete this.headers['Content-Type']}if(O.xmlData){cType||(cType='text/xml');method='POST';data=O.xmlData}else if(O.jsonData){cType||(cType='application/json; charset=utf-8');method='POST';data=Ext.isObject(O.jsonData)?Ext.encode(O.jsonData):O.jsonData}if(data){cType||(cType=this.useDefaultHeader?this.defaultPostHeader:null);cType&&this.initHeader('Content-Type',cType,false)}return this.makeRequest(O.method||method,uri,cb,data,O)}return null},getConnectionObject:function(uri,options,data){var o,f;var tId=this.transactionId;options||(options={});try{if(f=options.proxied){o={tId:tId,status:{isError:false},proxied:true,conn:{el:null,send:function(data){var doc=(f.target||window).document,head=doc.getElementsByTagName("head")[0];if(head&&this.el){head.appendChild(this.el.dom);this.readyState=2}},abort:function(){this.readyState=0;window[o.cbName]=undefined;Ext.isIE||delete window[o.cbName];var d=Ext.getDom(this.el);if(this.el){this.el.removeAllListeners();if(!o.debug){if(Ext.isIE){A.SCRIPTTAG_POOL.push(this.el)}else{this.el.remove();if(d){for(var prop in d){delete d[prop]}}}}}this.el=d=null},_headers:{},getAllResponseHeaders:function(){var out=[];forEach(this._headers,function(value,name){value&&out.push(name+': '+value)});return out.join('\n')},getResponseHeader:function(header){return this._headers[String(header).toLowerCase()]||''},onreadystatechange:null,onload:null,readyState:0,status:0,responseText:null,responseXML:null,responseJSON:null},debug:f.debug,params:Ext.isString(options.params)?Ext.urlDecode(options.params):options.params||{},cbName:f.callbackName||'basexCallback'+tId,cbParam:f.callbackParam||null};window[o.cbName]=o.cb=function(content){content&&typeof(content)=='object'&&(this.responseJSON=content);this.responseText=content||null;this.status=!!content?200:404;this.abort();this.readyState=4;Ext.isFunction(this.onreadystatechange)&&this.onreadystatechange();Ext.isFunction(this.onload)&&this.onload()}.createDelegate(o.conn);o.conn.open=function(){if(o.cbParam){o.params[o.cbParam]=o.cbName}var params=Ext.urlEncode(Ext.apply(Ext.urlDecode(data)||{},o.params,uri.indexOf("?")>-1?Ext.urlDecode(uri.split('?').last()):false));o.uri=params?uri.split('?').first()+'?'+params:uri;this.el=A.monitoredNode(f.tag||'script',{type:f.contentType||"text/javascript",src:o.uri,charset:f.charset||options.charset||null},null,f.target,true);this._headers['content-type']=this.el.dom.type;this.readyState=1;Ext.isFunction(this.onreadystatechange)&&this.onreadystatechange()};options.async=true}else{o=this.createXhrObject(tId,options)}if(o){this.transactionId++}}catch(ex3){o&&(o.status.isError=!!(o.status.error=ex3))}finally{return o}},makeRequest:function(method,uri,callback,postData,options){var o;if(o=this.getConnectionObject(uri,options,postData)){o.options=options;var r=o.conn;try{if(o.status.isError){throw o.status.error};A.activeRequests++;r.open(method.toUpperCase(),uri,options.async,options.userId,options.password);('onreadystatechange'in r)&&(r.onreadystatechange=this.onStateChange.createDelegate(this,[o,callback,'readystate'],0));('onload'in r)&&(r.onload=this.onStateChange.createDelegate(this,[o,callback,'load',4],0));('onprogress'in r)&&(r.onprogress=this.onStateChange.createDelegate(this,[o,callback,'progress'],0));if(callback&&callback.timeout){('timeout'in r)&&(r.timeout=callback.timeout);('ontimeout'in r)&&(r.ontimeout=this.abort.createDelegate(this,[o,callback,true],0));('ontimeout'in r)||(options.async&&(this.timeout[o.tId]=window.setInterval(function(){A.abort(o,callback,true)},callback.timeout)))}if(this.useDefaultXhrHeader&&!options.xdomain){this.defaultHeaders['X-Requested-With']||this.initHeader('X-Requested-With',this.defaultXhrHeader,true)}this.setHeaders(o);if(!this.events||this.fireEvent('beforesend',o,method,uri,callback,postData,options)!==false){r.send(postData||null)}}catch(exr){o.status.isError=true;o.status.error=exr}if(o.status.isError){return Ext.apply(o,this.handleTransactionResponse(o,callback))}options.async||this.onStateChange(o,callback,'load');return o}},abort:function(o,callback,isTimeout){o&&Ext.apply(o.status,{isAbort:!!!isTimeout,isTimeout:!!isTimeout,isError:!!isTimeout||!!o.status.isError});if(o&&o.queued&&o.request){o.request.active=o.queued=false;this.events&&this.fireEvent('abort',o,callback);return true}else if(o&&this.isCallInProgress(o)){if(!this.events||this.fireEvent(isTimeout?'timeout':'abort',o,callback)!==false){('abort'in o.conn)&&o.conn.abort();this.handleTransactionResponse(o,callback,o.status.isAbort,o.status.isTimeout)}return true}return false},isCallInProgress:function(o){if(o&&o.conn){if('readyState'in o.conn&&{0:true,4:true}[o.conn.readyState]){return false}return true}return false},clearAuthenticationCache:function(url){try{if(Ext.isIE){document.execCommand("ClearAuthenticationCache")}else{var xmlhttp;if(xmlhttp=new XMLHttpRequest()){xmlhttp.open("GET",url||'/@@',true,"logout","logout");xmlhttp.send("");xmlhttp.abort.defer(100,xmlhttp)}}}catch(e){}},initHeader:function(label,value){(this.headers=this.headers||{})[label]=value},onStateChange:function(o,callback,mode){if(!o.conn||o.status.isTimeout||o.status.isError){return}var C=o.conn,readyState=('readyState'in C?C.readyState:0);if(mode==='load'||readyState>2){var ct;try{ct=C.contentType||C.getResponseHeader('Content-Type')||''}catch(exRs){}if(ct&&/multipart\//i.test(ct)){var r=null,boundary=ct.split('"')[1],kb='--'+boundary;o.multiPart=true;try{r=C.responseText}catch(ers){}var p=r?r.split(kb):null;if(p){o.parts||(o.parts=[]);p.shift();p.pop();forEach(Array.slice(p,o.parts.length),function(newPart){var content=newPart.split('\n\n');var H=(content[0]?content[0]:'')+'\n';o.parts.push(this.handleTransactionResponse(Ext.apply(Ext.clone(o),{boundary:boundary,conn:{status:200,responseText:(content[1]||'').trim(),getAllResponseHeaders:function(){return H.split('\n').filter(function(value){return!!value}).join('\n')}},isPart:true}),callback))},this)}}}(readyState===4||mode==='load')&&A.handleTransactionResponse(o,callback);this.events&&this.fireEvent.apply(this,['readystatechange'].concat(Array.slice(arguments,0)))},setHeaders:function(o){if(o.conn&&'setRequestHeader'in o.conn){this.defaultHeaders&&forEach(this.defaultHeaders,function(value,key){o.conn.setRequestHeader(key,value)});this.headers&&forEach(this.headers,function(value,key){o.conn.setRequestHeader(key,value)})}this.headers={};this.hasHeaders=false},resetDefaultHeaders:function(){delete this.defaultHeaders;this.defaultHeaders={};this.hasDefaultHeaders=false},activeXMultipart:['MSXML2.XMLHTTP.6.0','MSXML3.XMLHTTP'],activeX:['MSXML2.XMLHTTP.3.0','MSXML2.XMLHTTP','Microsoft.XMLHTTP']});if(Ext.util.Observable){Ext.apply(A,{events:{request:true,beforesend:true,response:true,exception:true,abort:true,timeout:true,readystatechange:true,beforequeue:true,queue:true,queueempty:true},onStatus:function(status,fn,scope,options){var args=Array.slice(arguments,1);status=new Array().concat(status||new Array());forEach(status,function(statusCode){statusCode=parseInt(statusCode,10);if(!isNaN(statusCode)){var ev='status:'+statusCode;this.events[ev]||(this.events[ev]=true);this.on.apply(this,[ev].concat(args))}},this)},unStatus:function(status,fn,scope,options){var args=Array.slice(arguments,1);status=new Array().concat(status||new Array());forEach(status,function(statusCode){statusCode=parseInt(statusCode,10);if(!isNaN(statusCode)){var ev='status:'+statusCode;this.un.apply(this,[ev].concat(args))}},this)}},new Ext.util.Observable());Ext.hasBasex=true}Ext.stopIteration={stopIter:true};Ext.applyIf(Array.prototype,{map:function(fun,scope){var len=this.length;if(typeof fun!="function"){throw new TypeError();}var res=new Array(len);for(var i=0;i<len;++i){i in this&&(res[i]=fun.call(scope||this,this[i],i,this))}return res},some:function(fn){var f=Ext.isFunction(fn)?fn:function(){};var i=0,l=this.length,test=false;while(i<l&&!(test=!!f(this[i++]))){}return test},every:function(fn){var f=Ext.isFunction(fn)?fn:function(){};var i=0,l=this.length,test=true;while(i<l&&(test=!!f(this[i++]))){}return test},include:function(value,deep){if(!deep&&typeof this.indexOf=='function'){return this.indexOf(value)!=-1}var found=false;try{this.forEach(function(item,index){if(found=(deep?(item.include?item.include(value,deep):(item===value)):item===value)){throw Ext.stopIteration;}})}catch(exc){if(exc!=Ext.stopIteration){throw exc;}}return found},filter:function(iterFn,scope){var a=new Array();iterFn||(iterFn=function(value){return value});this.forEach(function(value,index){iterFn.call(scope,value,index)&&a.push(value)});return a},compact:function(deep){var a=new Array();this.forEach(function(v){(v===null||v===undefined)||a.push(deep&&Ext.isArray(v)?v.compact():v)},this);return a},flatten:function(){var a=new Array();this.forEach(function(v){Ext.isArray(v)?(a=a.concat(v)):a.push(v)},this);return a},indexOf:function(o){for(var i=0,len=this.length;i<len;++i){if(this[i]==o)return i}return-1},lastIndexOf:function(val){var i=this.length-1;while(i>-1&&this[i]!=val){i--}return i},unique:function(sorted,exact){var a=new Array();this.forEach(function(value,index){if(0==index||(sorted?a.last()!=value:!a.include(value,exact))){a.push(value)}},this);return a},grep:function(rePattern,iterFn,scope){var a=new Array();iterFn||(iterFn=function(value){return value});var fn=scope?iterFn.createDelegate(scope):iterFn;if(typeof rePattern=='string'){rePattern=new RegExp(rePattern)}rePattern instanceof RegExp&&this.forEach(function(value,index){rePattern.test(value)&&a.push(fn(value,index))});return a},first:function(){return this[0]},last:function(){return this[this.length-1]},clear:function(){this.length=0},atRandom:function(defValue){var r=Math.floor(Math.random()*this.length);return this[r]||defValue},clone:function(deep){if(!deep){return this.concat()}var length=this.length||0,t=new Array(length);while(length--){t[length]=Ext.clone(this[length],true)}return t},forEach:function(block,scope){Array.forEach(this,block,scope)},reversed:function(){var length=this.length||0,t=[];while(length--){t.push(this[length])}return t}});window.forEach=function(object,block,context,deep){context=context||object;if(object){if(typeof block!="function"){throw new TypeError();}var resolve=Object;if(object instanceof Function){resolve=Function}else if(object.forEach instanceof Function){return object.forEach(block,context)}else if(typeof object=="string"){resolve=String}else if(Ext.isNumber(object.length)){resolve=Array}return resolve.forEach(object,block,context,deep)}};Ext.clone=function(obj,deep){if(obj===null||obj===undefined){return obj}if(Ext.isFunction(obj.clone)){return obj.clone(deep)}else if(Ext.isFunction(obj.cloneNode)){return obj.cloneNode(deep)}var o={};forEach(obj,function(value,name,objAll){o[name]=(value===objAll?o:deep?Ext.clone(value,true):value)},obj,deep);return o};var slice=Array.prototype.slice;var filter=Array.prototype.filter;Ext.applyIf(Array,{slice:function(obj){return slice.apply(obj,slice.call(arguments,1))},filter:function(obj,fn){var t=obj&&typeof obj=='string'?obj.split(''):[];return filter.call(t,fn)},forEach:function(collection,block,scope){if(typeof block!="function"){throw new TypeError();}for(var i=0,l=collection.length>>>0;i<l;++i){(i in collection)&&block.call(scope||null,collection[i],i,collection)}}});Ext.applyIf(RegExp.prototype,{clone:function(){return new RegExp(this)}});Ext.applyIf(Date.prototype,{clone:function(deep){return deep?new Date(this.getTime()):this}});Ext.applyIf(Boolean.prototype,{clone:function(){return this===true}});Ext.applyIf(Number.prototype,{times:function(block,context){var total=parseInt(this,10)||0;for(var i=1;i<=total;){block.call(context,i++)}},forEach:function(){this.times.apply(this,arguments)},clone:function(){return(this)+0}});Ext.applyIf(String.prototype,{trim:function(){var re=/^\s+|\s+$/g;return function(){return this.replace(re,"")}}(),trimRight:function(){var re=/^|\s+$/g;return function(){return this.replace(re,"")}}(),trimLeft:function(){var re=/^\s+|$/g;return function(){return this.replace(re,"")}}(),clone:function(){return String(this)+''},forEach:function(block,context){String.forEach(this,block,context)}});var overload=function(pfn,fn){var f=typeof pfn=='function'?pfn:function(){};var ov=f._ovl;if(!ov){ov={base:f};ov[f.length||0]=f;f=function(){var o=arguments.callee._ovl;var fn=o[arguments.length]||o.base;return fn&&fn!=arguments.callee?fn.apply(this,arguments):undefined}}var fnA=[].concat(fn);for(var i=0,l=fnA.length;i<l;++i){ov[fnA[i].length]=fnA[i]}f._ovl=ov;return f};Ext.applyIf(Ext,{overload:overload(overload,[function(fn){return overload(null,fn)},function(obj,mname,fn){return obj[mname]=overload(obj[mname],fn)}]),isIterable:function(obj){if(obj===null||obj===undefined)return false;if(Ext.isArray(obj)||!!obj.callee||Ext.isNumber(obj.length))return true;return!!((/NodeList|HTMLCollection/i).test(OP.toString.call(obj))||obj.nextNode||obj.item||false)},isArray:function(obj){return OP.toString.apply(obj)=='[object Array]'},isObject:function(obj){return(obj!==null)&&typeof obj=='object'},isNumber:function(obj){return typeof obj=='number'&&isFinite(obj)},isBoolean:function(obj){return typeof obj=='boolean'},isDocument:function(obj){return OP.toString.apply(obj)=='[object HTMLDocument]'||(obj&&obj.nodeType===9)},isElement:function(obj){return obj&&Ext.type(obj)=='element'},isEvent:function(obj){return OP.toString.apply(obj)=='[object Event]'||(Ext.isObject(obj)&&!Ext.type(obj.constructor)&&(window.event&&obj.clientX&&obj.clientX===window.event.clientX))},isFunction:function(obj){return OP.toString.apply(obj)=='[object Function]'},isString:function(obj){return typeof obj=='string'},isDefined:defined});Ext.capabilities={hasActiveX:defined(window.ActiveXObject),hasXDR:function(){return defined(window.XDomainRequest)||(defined(window.XMLHttpRequest)&&'withCredentials'in new XMLHttpRequest())}(),hasChromeFrame:function(){try{if(defined(window.ActiveXObject)&&!!(new ActiveXObject("ChromeTab.ChromeFrame")))return true}catch(ef){}var a=navigator.userAgent.toLowerCase();return!!(a.indexOf("chromeframe")>=0||a.indexOf("x-clock")>=0)}(),hasFlash:(function(){if(defined(window.ActiveXObject)){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return true}catch(e){};return false}else if(navigator.plugins){for(var i=0,P=navigator.plugins,length=P.length;i<length;++i){if((/flash/i).test(P[i].name)){return true}}return false}return false})(),hasCookies:Ext.isIE&&('dialogArguments'in window)?false:!!navigator.cookieEnabled,hasCanvas:!!document.createElement("canvas").getContext,hasCanvasText:function(){return!!(this.hasCanvas&&typeof document.createElement('canvas').getContext('2d').fillText=='function')}(),hasSVG:!!(document.createElementNS&&document.createElementNS('http://www.w3.org/2000/svg','svg').width),hasXpath:!!document.evaluate,hasWorkers:defined(window.Worker),hasOffline:defined(window.applicationCache),hasLocalStorage:defined(window.localStorage),hasGeoLocation:defined(navigator.geolocation),hasBasex:true,hasAudio:function(){var aTag=!!document.createElement('audio').canPlayType,aAudio=('Audio'in window)?new Audio(''):{},caps=aTag||('canPlayType'in aAudio)?{tag:aTag,object:('play'in aAudio),testMime:function(mime){var M;return(M=aAudio.canPlayType?aAudio.canPlayType(mime):'no')!=='no'&&M!==''}}:false,mime,chk,mimes={mp3:'audio/mpeg',ogg:'audio/ogg',wav:'audio/x-wav',basic:'audio/basic',aif:'audio/x-aiff'};if(caps&&caps.testMime){for(chk in mimes){caps[chk]=caps.testMime(mimes[chk])}}return caps}(),hasVideo:function(){var vTag=!!document.createElement('video').canPlayType,vVideo=vTag?document.createElement('video'):{},caps=('canPlayType'in vVideo)?{tag:vTag,testCodec:function(codec){var C;return(C=vVideo.canPlayType?vVideo.canPlayType(codec):'no')!=='no'&&C!==''}}:false,codec,chk,codecs={mp4:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',ogg:'video/ogg; codecs="theora, vorbis"'};if(caps&&caps.testCodec){for(chk in codecs){caps[chk]=caps.testCodec(codecs[chk])}}return caps}(),hasInputAutoFocus:function(){return('autofocus'in(document.createElement('input')))}(),hasInputPlaceHolder:function(){return('placeholder'in(document.createElement('input')))}(),hasInputType:function(type){var el=document.createElement("input");if(el){try{el.setAttribute("type",type)}catch(e){};return el.type!=='text'}return false},isEventSupported:function(){var TAGNAMES={'select':'input','change':'input','submit':'form','reset':'form','load':'img','error':'img','abort':'img'}var cache={},onPrefix=/^on/i,getKey=function(type,el){var tEl=Ext.getDom(el);return(tEl?(Ext.isElement(tEl)||Ext.isDocument(tEl)?tEl.nodeName.toLowerCase():el.self?'#window':el||'#object'):el||'div')+':'+type};return function(evName,testEl){evName=(evName||'').replace(onPrefix,'');var el,isSupported=false;var eventName='on'+evName;var tag=(testEl?testEl:TAGNAMES[evName])||'div';var key=getKey(evName,tag);if(key in cache){return cache[key]}el=Ext.isString(tag)?document.createElement(tag):testEl;isSupported=(!!el&&(eventName in el));isSupported||(isSupported=window.Event&&!!(String(evName).toUpperCase()in window.Event));if(!isSupported&&el){el.setAttribute&&el.setAttribute(eventName,'return;');isSupported=Ext.isFunction(el[eventName])}cache[key]=isSupported;el=null;return isSupported}}()};Ext.EventManager.on(window,"beforeunload",A.onUnload,A,{single:true})})();Ext.applyIf(Function.prototype,{forEach:function(object,block,context,protos){if(object){var key;for(key in object){(!!protos||object.hasOwnProperty(key))&&block.call(context||object,object[key],key,object)}}},createBuffered:function(buffer,scope){var method=this,task=new Ext.util.DelayedTask();return function(){task.delay(buffer,method,scope,Array.slice(arguments,0))}},createDelayed:function(delay,scope,args,appendArgs){var method=(scope||args)?this.createDelegate(scope,args,appendArgs):this;return delay?function(){setTimeout(method,delay)}:method},clone:function(deep){return this}});if(typeof Ext==undefined||!Ext.hasBasex){throw"Ext and ext-basex 3.1 or higher required.";}(function(){var A=Ext.lib.Ajax,StopIter="StopIteration",defined=function(test){return typeof test!=='undefined'},emptyFn=function(){};Ext.namespace('Ext.ux');Ext.ux.ModuleManager=function(config){Ext.apply(this,config||{},{modulePath:function(){var d=location.href.indexOf('\/')!=-1?'\/':'\\';var u=location.href.split(d);u.pop();return u.join(d)+d}()});this.addEvents({"loadexception":true,"alreadyloaded":true,"load":true,"beforeload":true,"complete":true,"timeout":true});Ext.ux.ModuleManager.superclass.constructor.call(this)};var gather=function(method,url,callbacks,data,options){var tag,attribs;callbacks||(callbacks={});if(method=='SCRIPT'){tag=method;attribs={type:"text/javascript",src:url}}else if(method=='LINK'){tag=method;attribs={rel:"stylesheet",type:"text/css",href:url}}return tag?A.monitoredNode(tag,attribs,callbacks,options.target||window):A.request.apply(A,arguments)};var modulate=function(moduleName,options){if(!moduleName)return null;options||(options={});var mname=String(moduleName.name||moduleName),name=mname.trim().split('\/').last(),fname=options?(name.indexOf('.')!==-1?mname:mname+'.js'):'',path=options.path||'';var mod=Ext.apply({name:name,fullName:moduleName.name?moduleName.name:fname,extension:!moduleName.name?fname.split('.').last().trim().toLowerCase():'',path:path},options);mod.url=options.url||(path+fname);return mod};Ext.extend(Ext.ux.ModuleManager,Ext.util.Observable,{disableCaching:false,modules:{},method:'GET',noExecute:false,asynchronous:true,cacheResponses:false,timeout:30000,debug:false,loadStack:new Array(),loaded:function(name){var module;return(module=this.getModule(name))?module.loaded===true:false},getModule:function(name){name&&(name=name.name?name.name:modulate(name,false).name);return name?this.modules[name]:null},createModule:function(name,extras){var mod,existing;mod=(existing=this.getModule(name))||modulate(name,extras);return existing||(this.modules[mod.name]=Ext.apply({executed:false,contentType:'',content:null,loaded:false,pending:false},mod));if(!mod){var m=modulate(name,extras);mod=this.modules[m.name]=Ext.apply({executed:false,contentType:'',content:null,loaded:false,pending:false},m)}return mod},onAvailable:function(modules,callback,scope,timeout,options){if(arguments.length<2){return false}var MM=this;var block={modules:new Array().concat(modules),poll:function(){if(!this.polling)return;var cb=callback;var depends=(window.$JIT?$JIT.depends:null)||{};var assert=this.modules.every(function(arg,index,args){var modName=arg.replace('@',''),virtual=false,test=true;if(depends[modName]&&((virtual=depends[modName].virtual||false)||(Ext.isArray(depends[modName].depends&&!!depends[modName].length)))){test=depends[modName].depends.every(arguments.callee);test=virtual?test&&((MM.getModule(modName)||{}).loaded=true):test}return test&&(virtual||MM.loaded(modName)===true)});if(!assert&&this.polling&&!this.aborted){this.poll.defer(50,this);return}this.stop();Ext.isFunction(cb)&&cb.call(scope,assert)},polling:false,abort:function(){this.aborted=true;this.stop()},stop:function(){this.polling=false;this.timer&&clearTimeout(this.timer);this.timer=null},timer:null,timeout:parseInt(timeout||MM.timeout,10)||10000,onTimeout:function(){this.abort();MM.fireEvent('timeout',MM,this.modules)},retry:function(timeout){this.stop();this.polling=true;this.aborted=false;this.timer=this.onTimeout.defer(this.timeout,this);this.poll();return this}};return block.retry()},provides:function(){forEach(arguments,function(module){var moduleObj=this.createModule(module,false);moduleObj.loaded||Ext.apply(moduleObj,{executed:moduleObj.extension==='js',contentType:'',content:null,loaded:true,pending:false})},this)},load:function(modList){try{var task=new Task(this,Ext.isArray(modList)?modList:Array.slice(arguments,0));task.start()}catch(ex){if(ex!=StopIter){if(task){task.lastError=ex;task.active=false}this.fireEvent('loadexception',this,task?task.currentModule:null,this.lastError=ex)}}return task},globalEval:function(data,scope,context){scope||(scope=window);data=String(data||"").trim();if(data.length===0){return false}try{if(scope.execScript){scope.execScript(data.replace(/^<!--/,"").replace(/-->$/,""))}else{eval.call(scope,data,context||null)}return true}catch(ex){return ex}},styleAdjust:null,applyStyle:function(module,styleRules,target){var rules;if(module=this.getModule(module)){var doc=(target||window).document;var ct=(styleRules||(module.content?module.content.text:'')||'')+'';var head;if(doc&&!!ct.length&&(head=doc.getElementsByTagName("head")[0])){if(module.element){this.removeModuleElement(module)}if(this.styleAdjust&&this.styleAdjust.pattern){ct=ct.replace(this.styleAdjust.pattern,this.styleAdjust.replacement||'')}rules=doc.createElement("style");module.element=Ext.get(rules);A._domRefs.push(module.element);rules.setAttribute("type","text/css");if(Ext.isIE){head.appendChild(rules);rules.styleSheet.cssText=ct}else{try{rules.appendChild(doc.createTextNode(ct))}catch(e){rules.cssText=ct}head.appendChild(rules)}}}return rules},removeStyle:function(module){return this.removeModuleElement(module)},removeModuleElement:function(module){var el;if(module=this.getModule(module)){if(el=module.element){el.dom?el.removeAllListeners().remove(true):Ext.removeNode(el)}module.element=el=null}},destroy:function(){forEach(this.modules,function(module,name){this.removeModuleElement(name);delete this.modules[name]},this)}});var Task=Ext.ux.ModuleManager.Task=function(MM,modules){Ext.apply(this,{result:true,active:false,options:null,executed:new Array(),loaded:new Array(),params:null,data:null,oav:null,unlisteners:new Array(),MM:MM,id:Ext.id(null,'mm-task-'),defOptions:{async:MM.asynchronous,headers:MM.headers||false,modulePath:MM.modulePath,forced:false,cacheResponses:MM.cacheResponses,method:(MM.noExecute||MM.cacheResponses?'GET':MM.method||'GET').toUpperCase(),noExecute:MM.noExecute||false,disableCaching:MM.disableCaching,timeout:MM.timeout,callback:null,scope:null,params:null}});this.prepare(modules)};Ext.apply(Task.prototype,{start:function(){this.active=true;this.nextModule();if(this.options.async){this.oav=this.MM.onAvailable.call(this.MM,this.onAvailableList,this.onComplete,this,this.options.timeout,this.options)}else{this.onComplete(this.result)}},doCallBacks:function(options,success,currModule,args){var cb,C;if(C=currModule){var res=this.MM.fireEvent.apply(this.MM,[(success?'load':'loadexception'),this.MM,C].concat(args||[]));success||(this.active=(res!==false));if(this.active&&Ext.isArray(C.notify)){forEach(C.notify,function(chain,index,chains){if(chain){chain.nextModule();chains[index]=null}});C.notify=[]}if(C.element&&!options.debug&&C.extension=="js"&&options.method=='DOM'){C.element.removeAllListeners();var d=C.element.dom;if(Ext.isIE){A.SCRIPTTAG_POOL.push(C.element)}else{C.element.remove();if(d){for(var prop in d){delete d[prop]}}}d=null;delete C.element}}},success:function(response,ev,target){var module=response.argument.module.module,opt=response.argument.module,executable=(!opt.proxied&&module.extension=="js"&&!opt.noExecute&&opt.method!=='DOM'),cbArgs=null;module=this.MM.getModule(module.name);this.currentModule=module.name;if(!module.loaded){try{if(this.MM.fireEvent('beforeload',this.MM,module,response,response.responseText)!==false){Ext.apply(module,{loaded:true,pending:false,contentType:response.contentType||(target&&Ext.fly(target)?Ext.fly(target).getAttributeNS(null,'type'):''),content:opt.cacheResponses||module.extension=="css"?{text:response.responseText||null,XML:response.responseXML||null,JSON:response.responseJSON||null,parts:response.parts}:null});this.loaded.push(module);var exception=executable&&(!module.executed||opt.forced)?this.MM.globalEval(response.responseText,opt.target):true;if(exception===true){if(executable){module.executed=true;this.executed.push(module)}cbArgs=[response,response.responseText,module.executed]}else{throw Ext.applyIf({fileName:module.url,lineNumber:exception.lineNumber||0},exception)}}}catch(exl){cbArgs=[{error:(this.lastError=exl),httpStatus:response.status,httpStatusText:response.statusText}];this.result=false}this.doCallBacks(opt,this.result,module,cbArgs)}else{opt.async&&this.nextModule()}},failure:function(response){var module=response.argument.module.module,opt=response.argument.module;module.contentType=response.contentType||''this.currentModule=module.name;this.result=module.pending=false;this.doCallBacks(opt,this.result,module,[{error:(this.lastError=response.fullStatus.error),httpStatus:response.status,httpStatusText:response.statusText}])},nextModule:function(){var module,transport,executable,options,url;while(this.active&&(module=this.workList.shift())){if(Ext.isFunction(module)){module.apply(this,[this.result,null,this.loaded]);continue}if(module.listeners){this.unlisteners.push(module.listeners);this.MM.on(module.listeners);delete module.listeners}var params=null,data=null,moduleObj;options=module;if(params=module.params){Ext.isFunction(params)&&(params=params.call(options.scope||window,options));Ext.isObject(params)&&(params=Ext.urlEncode(params));module.params=data=params}if(moduleObj=this.MM.createModule(module.module,{path:options.modulePath})){url=moduleObj.url;executable=(!options.proxied&&moduleObj.extension=="js"&&!options.noExecute);if((!moduleObj.loaded)||options.forced){if(!moduleObj.pending){moduleObj.pending=true;if(/get|script|dom|link/i.test(options.method)){url+=(params?'?'+params:'');if(options.disableCaching==true){url+=(params?'&':'?')+'_dc='+(new Date().getTime())}data=null}options.async=options.method==='DOM'?true:options.async;transport=gather(options.method=='DOM'?(moduleObj.extension=='css'?'LINK':'SCRIPT'):options.method,url,{success:this.success,failure:this.failure,scope:this,argument:{module:module}},data,options);Ext.apply(moduleObj,{element:options.method=='DOM'?transport:null,method:options.method||this.method,options:options})}if(options.async){break}}else{this.active=this.MM.fireEvent('alreadyloaded',this.MM,moduleObj)!==false;executable&&this.executed.push(moduleObj);this.loaded.push(moduleObj)}}}if(this.active&&module&&module.async&&moduleObj){moduleObj.notify||(moduleObj.notify=new Array());moduleObj.notify.push(this)}},prepare:function(modules){var onAvailableList=new Array(),workList=new Array(),options=this.defOptions,mtype,MM=this.MM;var adds=new Array();var expand=function(mods){mods=new Array().concat(mods);var adds=new Array();forEach(mods,function(module){if(!module)return;var m;mtype=typeof(module);switch(mtype){case'string':m=MM.createModule(module,{path:options.modulePath,url:module.url||null});if(!m.loaded){module=Ext.applyIf({name:m.name,module:m,callback:null},options);delete options.listeners;workList.push(module);adds.push(module)}onAvailableList.push(m.name);break;case'object':if(m=(module.modules||module.module)){adds=expand(m);delete module.module;delete module.modules}if(module.proxied){module.method='GET';module.cacheResponses=module.async=true}if(Ext.isArray(module)){adds=expand(module)}else{var mod=module;if(module.name){m=MM.createModule(module,{path:options.modulePath,url:mod.url||null});delete mod.url;Ext.apply(options,mod);if(!m.loaded){mod=Ext.applyIf({name:m.name,module:m,callback:null},options);delete options.listeners;workList.push(mod);adds.push(mod)}onAvailableList.push(m.name)}else{Ext.apply(options,mod)}}break;case'function':workList.push(module);default:}});return adds};expand(modules);this.options=options;this.workList=workList.flatten().compact();this.onAvailableList=onAvailableList.flatten().unique()},onComplete:function(loaded){var cb;if(loaded){if(cb=this.options.callback){cb.apply(this.options.scope||this,[this.result,this.loaded,this.executed])}this.MM.fireEvent('complete',this.MM,this.result,this.loaded,this.executed)}if(this.unlisteners){forEach(this.unlisteners,function(block){forEach(block,function(listener,name,listeners){var fn=listener.fn||listener;var scope=listener.scope||listeners.scope||this.MM;var ev=listener.name||name;this.MM.removeListener(ev,fn,scope)},this)},this)}this.active=false}});Ext.lib.Ajax.forceActiveX=(Ext.isIE7&&document.location.protocol=='file:');var L=Ext.Loader=new Ext.ux.ModuleManager({modulePath:'',method:'DOM',depends:{},disableCaching:true,getMap:function(module){var result=new Array(),mods=new Array().concat(module.module||module);var options=Ext.isObject(module)?module:{module:module};forEach(mods,function(mod){var c=arguments.callee;var moduleName=Ext.isObject(mod)?mod.module||null:mod;var map=moduleName?this.depends[moduleName.replace("@","")]||false:false;map=Ext.apply({path:'',depends:false},map);forEach(map.depends||new Array(),function(module,index,dep){module.substr(0,1)=="@"?c.call(this,module):(result=result.concat(module))},this);if(moduleName&&!(map.none||map.virtual)){result=result.concat((map.path||'')+moduleName.replace("@",""))}},this);return Ext.applyIf({module:!!result.length?result.unique():null},options)},styleAdjust:{pattern:/url\(\s*\.\.\//ig,replacement:'url(resources/'}});$JIT=function(){var modules=new Array();forEach(Array.slice(arguments,0),function(module){modules=modules.concat(typeof module=='function'?module:L.getMap(module))},L);L.load.apply(L,modules.flatten());return L};Ext.ux.$JIT=Ext.require=$JIT;var on=L.addListener.createDelegate(L),un=L.removeListener.createDelegate(L);Ext.apply($JIT,{onAvailable:Ext.Loader.onAvailable.createDelegate(L),onClassAvailable:(function(){var options=null;var F=function OCAV(classList,callback,scope,timeout){var o,d,classes=[],opt={interval:100,retries:(timeout||30000)/100,callback:callback||Ext.emptyFn,scope:scope||null};if(!options){options=Ext.clone(opt)}Ext.each([].concat(classList||[]).compact(),function(v){if(Ext.isString(v)){d=v.split(".");if(o=window[d[0]]){Ext.each(d.slice(1),function(next){return!!(o=o[next])});o&&classes.push(o)}else return false}});var C=classes.compact();C=C.length<2?C.first():C;if(!!o){options.callback.call(options.scope,true,C)}else{if(--options.retries){arguments.callee.defer(options.interval,this,arguments);return}else{options.callback.call(options.scope,false,C)}}options=null};var OCAV=null;return F})(),provide:Ext.provide=L.provides.createDelegate(L),on:on,addListener:on,un:un,removeListener:un,depends:L.depends,loaded:L.loaded.createDelegate(L),getModule:L.getModule.createDelegate(L),setMethod:function(method){L.method=(method||'DOM').toUpperCase()},setModulePath:function(path){L.modulePath=path||''},execScript:L.globalEval.createDelegate(L),lastError:function(){return L.lastError},setTimeout:function(tmo){L.timeout=parseInt(tmo||0,10)},applyStyle:L.applyStyle.createDelegate(L),removeStyle:L.removeStyle.createDelegate(L),css:L.load.createDelegate(L,[{method:'GET',cacheResponses:true,modulePath:''}],0),script:L.load.createDelegate(L,[{method:'DOM',modulePath:''}],0),get:L.load.createDelegate(L,[{method:'GET',modulePath:''}],0),post:L.load.createDelegate(L,[{method:'POST',modulePath:''}],0),getCached:L.load.createDelegate(L,[{method:'GET',modulePath:'',cacheResponses:true}],0)});$JIT.provide('jit','ext-basex');$JIT.on('loadexception',function(loader,module,ecode,title){if(!ecode)return;var ec=ecode.error||ecode;var msg=ec?ec.message||ec.description||ec.name||ecode:null;if(msg){if(Ext.MessageBox){Ext.MessageBox.alert(title||'unknown',msg)}else{alert((title?title+'\n':'')+msg)}}});var mgr=Ext.ComponentMgr,load_options={async:false,method:'GET',callback:function(completed){!completed&&L.fireEvent('loadexception',L,this.currentModule,"Ext.ComponentMgr:$JIT Load Failure")},scope:L},assert=function(rm){return!!rm&&typeof rm=='object'?Ext.apply({},load_options,rm):rm};if(mgr){$JIT.create=Ext.create=mgr.create=mgr.create.createInterceptor(function(config,defaultType){var require=config.require||config.JIT;if(!!require){require=[load_options].concat(require).map(assert).compact();Ext.require.apply(Ext,require)}})}})();gg
